<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="../static/css/style.css" th:href="@{/css/style.css}" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta charset="UTF-8">

    <title>Главная страница</title>
</head>
<body>
<header>


    <!-- Button trigger modal -->

    <!-- авторизация -->
    <div class="modal fade" id="avt" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Авторизация</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form  method="post" class="ui-form" th:action="@{/login}">

                            <p th:if="${errorRegistration!=''}" th:text="${errorRegistration}"  id="message"></p>
                            <div class="modal-body ">

                                <label for="login" class="col-2">Логин</label>  <input type="text" name="username" class="col-6" id="login" required autocomplete="off" >
                            </div>
                            <div class="modal-body ">
                                <label for="password" class="col-2">Пароль</label> <input type="password" name="password"  class="col-6" id="password12" required autocomplete="off">
                            </div>
                            <div class="modal-footer">
                                <p><input type="submit"  value="Войти"></p>
                                <p><a th:href="@{/recoverPass}" class="recoverPass">Забыли пароль?</a></p><!--Изменяем на "#close"-->
                            </div>

                    </form>
                </div>
                </div>

            </div>
        </div>

    <!-- регистрация -->

    <div class="modal fade" id="reg" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Регистрация</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form  method="post" class="ui-form" th:action="@{/registration} ">

                        <p th:if="${message}" id="message">Данный логин уже используется</p>

                        <div class="modal-body ">
                            <input type="text" class="col-3" name="login" id="login" th:if="${user!=null}" th:value="${user.getLogin()}" required autocomplete="off"><label  th:if="${user!=null}" for="login">Логин</label>
                            <input type="text"class="col-3" name="login" id="login1" th:if="${user==null}" required autocomplete="off"><label for="login1" th:if="${user==null}">Логин</label>
                        </div>
                        </div>
                        <div class="modal-body">
                            <label for="password"  class="col-3">Пароль<br></label><input type="password" name="password" class="col-6" id="password" pattern=".{8,}"   required title="8 символов  минимум">
                        </div>
                        <div class="modal-body">
                            <label th:if="${user!=null}"  class="col-3" for="fio">Фамилия Имя Отчество<br></label> <input type="text" name="fio"  class="col-6" id="fio" th:if="${user!=null}" th:value="${user.getFio()}" pattern="[а-яА-Я]+ [а-яА-Я]+ [а-яА-Я]+" required title="Возможно вы пропустили пробел между ФИО">
                            <label th:if="${user==null}"  class="col-3" for="fio1">Фамилия Имя Отчество<br></label><input type="text" name="fio" class="col-6" id="fio1" th:if="${user==null}" pattern="[а-яА-Я]+ [а-яА-Я]+ [а-яА-Я]+" required title="Возможно вы пропустили пробел между ФИО">
                        </div>
                        <div class="modal-body">
                            <label th:if="${user!=null}"  class="col-3" for="email">E - mail<br></label>  <input type="email" name="email" class="col-6" id="email" th:if="${user!=null}" th:value="${user.getEmail()}" required>
                            <label for="email1" th:if="${user==null}"  class="col-3">E - mail<br></label>  <input type="email" name="email" class="col-6" id="email1" th:if="${user==null}" required>
                        </div>
                        <div class="modal-body">
                            <label th:if="${user!=null}" id="specialLabel1"  class="col-3" for="birthday">Дата рождения<br></label> <input type="date" name="birthday" class="col-6" th:if="${user!=null}" th:value="${user.getBirthday()}" id="birthday">
                            <label id="specialLabel" for="birthday1" class="col-3" th:if="${user==null}">Дата рождения<br></label> <input type="date" name="birthday" class="col-6" th:if="${user==null}"  id="birthday1">
                        </div>
                        <div class="modal-body">
                            <label th:if="${user!=null}" for="phone_number"  class="col-3">Номер телефона<br></label> <input type="number" name="phone_number" class="col-6" th:if="${user!=null}" th:value="${user.getPhone_number()}" pattern="[0-9]{10}" id="phone_number" required title="Длина должна быть 10 цифр">
                            <label th:if="${user==null}" for="phone_number1"  class="col-3">Номер телефона<br></label> <input type="number" name="phone_number"  class="col-6"th:if="${user==null}"  pattern="[0-9]{10}" id="phone_number1" required title="Длина должна быть 10 цифр">
                        </div>
                        <div class="modal-body">
                            <label th:if="${user!=null}" for="address"  class="col-3">Адрес проживания<br></label> <input type="text" name="address" id="address" class="col-6" th:if="${user!=null}" th:value="${user.getAddress()}" required autocomplete="off">
                            <label for="address1" th:if="${user==null}"  class="col-3">Адрес проживания<br></label> <input type="text" name="address" id="address1" class="col-6" th:if="${user==null}" required autocomplete="off">
                        </div>
                        <div class="modal-footer">
                            <p><input type="submit" value="Зарегистрироваться"></p>
                        </div>

                    </form>
                </div>
            </div>

        </div>
    </div>


    </div>




    <div class="center-block-main">


        <div class="header-top clearfix">
            <div class="container">
                <div class="row">
                    <div class="col-sm">
                        <p class ="h2"><a href="#">LIBRARY</a></p>
                    </div>
                    <div class="col-sm">
                        <form th:action="@{/find}" method="post">
                        <div class="input-group search">
                            <form th:action="@{/find}" method="post">
                            <input type="text" class="form-control" name="info" id="search_box"
                                   placeholder="Введите название книги ">
                            <div class="input-group-addon" ><i class="fa fa-search"></i></div>
                            <button class="btn btn-outline-secondary" type="button">ИСКАТЬ</button>
                        </div>
                        </form>
                    </div>
                    <div class="col-sm">
                        <div class="login">
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#avt">
                                Вход
                            </button>
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#reg">
                                Регистрация
                            </button>

                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="header-bottom">
            <nav>
                <ul class="nav nav-pills menu">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Жанры</a>
                        <ul class="dropdown-menu">
                            <li th:each="genre:${genres}">
                            <a class="dropdown-item" th:href="'/genre/'+${genre.getGenre_id()}"  th:text="${genre.getName()}"></a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Новинки</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Популярное</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Подборки</a>
                    </li>
                </ul>
            </nav>
        </div>

        </heder>




        <div class="slider1">
            <ul id="slides">
                <li class="slide showing">Slide 1</li>
                <li class="slide">Slide 2</li>
                <li class="slide">Slide 3</li>
                <li class="slide">Slide 4</li>
                <li class="slide">Slide 5</li>
            </ul>
        </div>




            <!---------------------------------- Последние поступления---------------------------->
        <section class="block-section">
            <h2>Последние поступления</h2>
            <div >


                    <div class="container">
                        <div class="row mt-4">
                            <div class="col-sm-4 my-3">
                                <div class="card">
                                <img class="card-img-top" src="../imageforbook/AnnaKarenina.jpg"  alt="">
                                    <div class="card-body">
                                            <p class="card-title h2">
                                                <a>Название книги</a>
                                                </p>
                                            <p class="card-author">
                                                Авторы: <span ><span></span></span>
                                            </p>
                                            <p class="card-author">
                                                Переводчики: <span><span></span></span>
                                            </p>
                                            <p class="card-desc em" >Описание книги описание книги описание книги описание книги описание книги</p>
                                        <div class="text-center line">
                                        <button type="button" class="btn btn-outline-primary btn-lg btn-block">Забронировать</button>
                                        <button type="button" class="btn btn-outline-success btn-lg btn-block">В избранное</button>
                                        </div>
                                    </div>
                                        </div>
                                    </div>


                            <div class="col-sm-4 my-3">
                                <div class="card">
                                    <img class="card-img-top" src="../imageforbook/AnnaKarenina.jpg"  alt="">
                                    <div class="card-body">
                                        <p class="card-title h2">
                                            <a>Название книги</a>
                                        </p>
                                        <p class="card-author">
                                            Авторы: <span ><span></span></span>
                                        </p>
                                        <p class="card-author">
                                            Переводчики: <span><span></span></span>
                                        </p>
                                        <p class="card-desc em" >Описание книги описание книги описание книги описание книги описание книги</p>
                                        <div class="text-center line">
                                            <button type="button" class="btn btn-outline-primary btn-lg btn-block">Забронировать</button>
                                            <button type="button" class="btn btn-outline-success btn-lg btn-block">В избранное</button>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-sm-4 my-3">
                                <div class="card">
                                    <img class="card-img-top" src="../imageforbook/AnnaKarenina.jpg"  alt="">
                                    <div class="card-body">
                                        <p class="card-title h2">
                                            <a>Название книги</a>
                                        </p>
                                        <p class="card-author">
                                            Авторы: <span ><span></span></span>
                                        </p>
                                        <p class="card-author">
                                            Переводчики: <span><span></span></span>
                                        </p>
                                        <p class="card-desc em" >Описание книги описание книги описание книги описание книги описание книги</p>
                                        <div class="text-center line">
                                            <button type="button" class="btn btn-outline-primary btn-lg btn-block">Забронировать</button>
                                            <button type="button" class="btn btn-outline-success btn-lg btn-block">В избранное</button>
                                        </div>
                                    </div>
                                </div>
                            </div>



                            <div class="col-sm-4 my-3">
                                <div class="card">
                                    <img class="card-img-top" src="../imageforbook/AnnaKarenina.jpg"  alt="">
                                    <div class="card-body">
                                        <p class="card-title h2">
                                            <a>Название книги</a>
                                        </p>
                                        <p class="card-author">
                                            Авторы: <span ><span></span></span>
                                        </p>
                                        <p class="card-author">
                                            Переводчики: <span><span></span></span>
                                        </p>
                                        <p class="card-desc em" >Описание книги описание книги описание книги описание книги описание книги</p>
                                        <div class="text-center line">
                                            <button type="button" class="btn btn-outline-primary btn-lg btn-block">Забронировать</button>
                                            <button type="button" class="btn btn-outline-success btn-lg btn-block">В избранное</button>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-sm-4 my-3">
                                <div class="card">
                                    <img class="card-img-top" src="../imageforbook/AnnaKarenina.jpg"  alt="">
                                    <div class="card-body">
                                        <p class="card-title h2">
                                            <a>Название книги</a>
                                        </p>
                                        <p class="card-author">
                                            Авторы: <span ><span></span></span>
                                        </p>
                                        <p class="card-author">
                                            Переводчики: <span><span></span></span>
                                        </p>
                                        <p class="card-desc em" >Описание книги описание книги описание книги описание книги описание книги</p>
                                        <div class="text-center line">
                                            <button type="button" class="btn btn-outline-primary btn-lg btn-block">Забронировать</button>
                                            <button type="button" class="btn btn-outline-success btn-lg btn-block">В избранное</button>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-sm-4 my-3">
                                <div class="card">
                                    <img class="card-img-top" src="../imageforbook/AnnaKarenina.jpg"  alt="">
                                    <div class="card-body">
                                        <p class="card-title h2">
                                            <a>Название книги</a>
                                        </p>
                                        <p class="card-author">
                                            Авторы: <span ><span></span></span>
                                        </p>
                                        <p class="card-author">
                                            Переводчики: <span><span></span></span>
                                        </p>
                                        <p class="card-desc em" >Описание книги описание книги описание книги описание книги описание книги</p>
                                        <div class="text-center line">
                                            <button type="button" class="btn btn-outline-primary btn-lg btn-block">Забронировать</button>
                                            <button type="button" class="btn btn-outline-success btn-lg btn-block">В избранное</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>


            <div class="ListOfPopular clearfix">
               <span> <a href="#">Посмотреть полный список</a></span>
            </div>
        </section>
            <!---------------------------------- Последние поступления---------------------------->
            <!---------------------------------- Популярное---------------------------->

            <section class="block-section">
                <h2>Популярное</h2>
                <div >


                    <div class="container">
                        <div class="row mt-4">
                            <div class="col-sm-4 my-3">
                                <div class="card">
                                    <img class="card-img-top" src="../imageforbook/AnnaKarenina.jpg"  alt="">
                                    <div class="card-body">
                                        <p class="card-title h2">
                                            <a>Название книги</a>
                                        </p>
                                        <p class="card-author">
                                            Авторы: <span ><span></span></span>
                                        </p>
                                        <p class="card-author">
                                            Переводчики: <span><span></span></span>
                                        </p>
                                        <p class="card-desc em" >Описание книги описание книги описание книги описание книги описание книги</p>
                                        <div class="text-center line">
                                            <button type="button" class="btn btn-outline-primary btn-lg btn-block">Забронировать</button>
                                            <button type="button" class="btn btn-outline-success btn-lg btn-block">В избранное</button>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-sm-4 my-3">
                                <div class="card">
                                    <img class="card-img-top" src="../imageforbook/AnnaKarenina.jpg"  alt="">
                                    <div class="card-body">
                                        <p class="card-title h2">
                                            <a>Название книги</a>
                                        </p>
                                        <p class="card-author">
                                            Авторы: <span ><span></span></span>
                                        </p>
                                        <p class="card-author">
                                            Переводчики: <span><span></span></span>
                                        </p>
                                        <p class="card-desc em" >Описание книги описание книги описание книги описание книги описание книги</p>
                                        <div class="text-center line">
                                            <button type="button" class="btn btn-outline-primary btn-lg btn-block">Забронировать</button>
                                            <button type="button" class="btn btn-outline-success btn-lg btn-block">В избранное</button>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-sm-4 my-3">
                                <div class="card">
                                    <img class="card-img-top" src="../imageforbook/AnnaKarenina.jpg"  alt="">
                                    <div class="card-body">
                                        <p class="card-title h2">
                                            <a>Название книги</a>
                                        </p>
                                        <p class="card-author">
                                            Авторы: <span ><span></span></span>
                                        </p>
                                        <p class="card-author">
                                            Переводчики: <span><span></span></span>
                                        </p>
                                        <p class="card-desc em" >Описание книги описание книги описание книги описание книги описание книги</p>
                                        <div class="text-center line">
                                            <button type="button" class="btn btn-outline-primary btn-lg btn-block">Забронировать</button>
                                            <button type="button" class="btn btn-outline-success btn-lg btn-block">В избранное</button>
                                        </div>
                                    </div>
                                </div>
                            </div>



                            <div class="col-sm-4 my-3">
                                <div class="card">
                                    <img class="card-img-top" src="../imageforbook/AnnaKarenina.jpg"  alt="">
                                    <div class="card-body">
                                        <p class="card-title h2">
                                            <a>Название книги</a>
                                        </p>
                                        <p class="card-author">
                                            Авторы: <span ><span></span></span>
                                        </p>
                                        <p class="card-author">
                                            Переводчики: <span><span></span></span>
                                        </p>
                                        <p class="card-desc em" >Описание книги описание книги описание книги описание книги описание книги</p>
                                        <div class="text-center line">
                                            <button type="button" class="btn btn-outline-primary btn-lg btn-block">Забронировать</button>
                                            <button type="button" class="btn btn-outline-success btn-lg btn-block">В избранное</button>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-sm-4 my-3">
                                <div class="card">
                                    <img class="card-img-top" src="../imageforbook/AnnaKarenina.jpg"  alt="">
                                    <div class="card-body">
                                        <p class="card-title h2">
                                            <a>Название книги</a>
                                        </p>
                                        <p class="card-author">
                                            Авторы: <span ><span></span></span>
                                        </p>
                                        <p class="card-author">
                                            Переводчики: <span><span></span></span>
                                        </p>
                                        <p class="card-desc em" >Описание книги описание книги описание книги описание книги описание книги</p>
                                        <div class="text-center line">
                                            <button type="button" class="btn btn-outline-primary btn-lg btn-block">Забронировать</button>
                                            <button type="button" class="btn btn-outline-success btn-lg btn-block">В избранное</button>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-sm-4 my-3">
                                <div class="card">
                                    <img class="card-img-top" src="../imageforbook/AnnaKarenina.jpg"  alt="">
                                    <div class="card-body">
                                        <p class="card-title h2">
                                            <a>Название книги</a>
                                        </p>
                                        <p class="card-author">
                                            Авторы: <span ><span></span></span>
                                        </p>
                                        <p class="card-author">
                                            Переводчики: <span><span></span></span>
                                        </p>
                                        <p class="card-desc em" >Описание книги описание книги описание книги описание книги описание книги</p>
                                        <div class="text-center line">
                                            <button type="button" class="btn btn-outline-primary btn-lg btn-block">Забронировать</button>
                                            <button type="button" class="btn btn-outline-success btn-lg btn-block">В избранное</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>


                    <div class="ListOfPopular clearfix">
                        <span> <a href="#">Посмотреть полный список</a></span>
                    </div>
            </section>
            <!---------------------------------- Популярное---------------------------->

            <section class="block-section">
                <h2>Подборки</h2>
                <div >
                    <div class="row my-5">
                        <div class="col-12">
                            <div class="card my-3">
                                <h4 class="card-header">Подборка</h4>
                                <div class="card-body">
                                    <img class="img-thumbnail float-left mr-3" src="../imageforbook/AnnaKarenina.jpg" alt="">
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sed nisi, maxime quae ad adipisci sequi in sint repellendus esse inventore nulla consectetur numquam rerum possimus dolores nam voluptates alias velit, iste! Incidunt perferendis et iure, tenetur quia quisquam officia. Soluta?</p>
                                    <p>Eum nesciunt id iste culpa ipsa tempora! Consequatur voluptatem recusandae tempore alias id consectetur eos voluptatum deleniti! Architecto eveniet nam assumenda error quisquam, soluta a quis harum recusandae magni enim, fugit aliquid hic aspernatur ipsa adipisci iure inventore modi maxime.</p>
                                    <p>Ullam quos iure, beatae voluptates, sint saepe nobis ipsum, a fugit iste animi quae. Quis harum, temporibus officiis voluptatibus debitis voluptas modi a at, perferendis dicta nemo laborum voluptate sapiente quae aliquam, qui eveniet obcaecati molestiae quia odit. Sit, dolore!</p>
                                    <p>Repellendus suscipit et aliquam ad in. Voluptatum maiores nesciunt eos nisi, mollitia pariatur officiis, aperiam omnis itaque iste ut saepe exercitationem amet rerum! Quaerat sunt sequi, corporis architecto repellendus, quasi molestias sapiente iste ducimus a placeat amet doloribus modi atque?</p>
                                    <a href="#" class="btn btn-outline-primary btn-lg  float-right">Посмотреть подборку</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="card my-3">
                                <h4 class="card-header">Подборка</h4>
                                <div class="card-body">
                                    <img class="img-thumbnail float-left mr-3" src="../imageforbook/AnnaKarenina.jpg" alt="">
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sed nisi, maxime quae ad adipisci sequi in sint repellendus esse inventore nulla consectetur numquam rerum possimus dolores nam voluptates alias velit, iste! Incidunt perferendis et iure, tenetur quia quisquam officia. Soluta?</p>
                                    <p>Eum nesciunt id iste culpa ipsa tempora! Consequatur voluptatem recusandae tempore alias id consectetur eos voluptatum deleniti! Architecto eveniet nam assumenda error quisquam, soluta a quis harum recusandae magni enim, fugit aliquid hic aspernatur ipsa adipisci iure inventore modi maxime.</p>
                                    <p>Ullam quos iure, beatae voluptates, sint saepe nobis ipsum, a fugit iste animi quae. Quis harum, temporibus officiis voluptatibus debitis voluptas modi a at, perferendis dicta nemo laborum voluptate sapiente quae aliquam, qui eveniet obcaecati molestiae quia odit. Sit, dolore!</p>
                                    <p>Repellendus suscipit et aliquam ad in. Voluptatum maiores nesciunt eos nisi, mollitia pariatur officiis, aperiam omnis itaque iste ut saepe exercitationem amet rerum! Quaerat sunt sequi, corporis architecto repellendus, quasi molestias sapiente iste ducimus a placeat amet doloribus modi atque?</p>
                                    <a href="#" class="btn btn-outline-primary btn-lg  float-right">Посмотреть подборку</a>
                                </div>
                            </div>
                        </div>
                    </div>
        </div>




















        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>









    <script type="text/javascript">


        var slides = document.querySelectorAll('#slides .slide');
var currentSlide = 0;
var slideInterval = setInterval(nextSlide,4000);

function nextSlide(){
    slides[currentSlide].className = 'slide';
    currentSlide = (currentSlide+1)%slides.length;
    slides[currentSlide].className = 'slide showing';
}


function checkForm(form)
{

  if (document.getElementById("message").value == '')
{

  alert ('Заполните все поля');
  return false;
}

}


    </script>
</body>
</html>















